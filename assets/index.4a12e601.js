var e=Object.defineProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,o=(e,o)=>{for(var l in o||(o={}))r.call(o,l)&&s(e,l,o[l]);if(a)for(var l of a(o))t.call(o,l)&&s(e,l,o[l]);return e};import{l}from"./user.d8dfdd3e.js";import{f as n,t as u,u as i,T as m,r as d,o as c,g as f,h as p,w as b,i as g,j as v}from"./vendor.e1ab4e05.js";import{r as y}from"./index.01e925da.js";const w={setup(e){const a=n({userName:"",userPwd:""});return o(o({},u(a)),function(e){const a=i();return{formRules:{userName:[{required:!0,message:"不可为空"}],userPwd:[{required:!0,message:"不可为空"},{pattern:/^\d{6}$/,message:"格式有误"}]},onSubmit:async()=>{m.loading({message:"加载中...",forbidClick:!0});const r=await l(e);0===r.data.code?(a.commit("setUser",r.data),m.success("用户登录成功"),y.push("/my")):m.fail(r.data.message)}}}(a))}},k={style:{margin:"16px"}},h=v("提交");w.render=function(e,a,r,t,s,o){const l=d("van-icon"),n=d("van-nav-bar"),u=d("van-field"),i=d("van-cell-group"),m=d("van-button"),v=d("van-form");return c(),f("div",null,[p(n,{class:"page-nav-bar",title:"登录","left-text":"返回","left-arrow":"",onClickLeft:e.onClickLeft,onClickRight:e.onClickRight},{left:b((()=>[p(l,{name:"cross",size:"18",onClick:a[0]||(a[0]=e=>this.$router.back())})])),_:1},8,["onClickLeft","onClickRight"]),p(v,{onSubmit:e.onSubmit},{default:b((()=>[p(i,{inset:""},{default:b((()=>[p(u,{modelValue:e.userName,"onUpdate:modelValue":a[1]||(a[1]=a=>e.userName=a),name:"用户名","left-icon":"manager",placeholder:"用户名",rules:e.formRules.userName},null,8,["modelValue","rules"]),p(u,{modelValue:e.userPwd,"onUpdate:modelValue":a[2]||(a[2]=a=>e.userPwd=a),type:"password",name:"密码","left-icon":"lock",placeholder:"密码",rules:e.formRules.userPwd},null,8,["modelValue","rules"])])),_:1}),g("div",k,[p(m,{round:"",block:"",type:"primary","native-type":"submit"},{default:b((()=>[h])),_:1})])])),_:1},8,["onSubmit"])])};export{w as default};
